# çŸ¥è¯†å‘ç°è¿æ¥ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆ

> **åŸºäºPARAæ–¹æ³•è®ºçš„ä¸ªäººè®¤çŸ¥å¢å¼ºç³»ç»Ÿ - è‡ªåŠ¨åŒ–çŸ¥è¯†å…³è”å‘ç°æ¨¡å—**
>
> **åˆ›å»ºæ—¶é—´**: 2025-10-18
> **è®¾è®¡çŠ¶æ€**: å·²å®Œæˆæ„æ€ï¼Œå¾…å®æ–½
> **æ ¸å¿ƒç›®æ ‡**: é€šè¿‡è‡ªåŠ¨åŒ–æµç¨‹å®ç°çŸ¥è¯†å‘ç°è¿æ¥

---

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°

### æ ¸å¿ƒç›®æ ‡
- **è‡ªåŠ¨åŒ–æµç¨‹**: å‡å°‘æ‰‹åŠ¨æ•´ç†ï¼Œæé«˜ä¿¡æ¯ç»„ç»‡æ•ˆç‡
- **çŸ¥è¯†å‘ç°è¿æ¥**: å‘ç°ä¿¡æ¯é—´çš„éšè—å…³è”ï¼Œæ„å»ºçŸ¥è¯†ç½‘ç»œ
- **æ‰¹é‡å®šæ—¶å¤„ç†**: å®šæœŸæ‰¹é‡å¤„ç†æ‰€æœ‰å†…å®¹ï¼Œæ— éœ€äººå·¥å¹²é¢„
- **ç‹¬ç«‹æŠ¥å‘Šæ–‡ä»¶**: ç”Ÿæˆè¯¦ç»†çš„çŸ¥è¯†å…³è”åˆ†ææŠ¥å‘Š

### æŠ€æœ¯é€‰æ‹©
- **å®ç°æ–¹å¼**: ä¼˜åŒ–ç°æœ‰è„šæœ¬ï¼Œåˆ›å»ºç‹¬ç«‹çŸ¥è¯†å‘ç°æ¨¡å—
- **ç®—æ³•ç­–ç•¥**: ç»Ÿè®¡ä¸è§„åˆ™åŒ¹é…ï¼Œå¹³è¡¡å‡†ç¡®æ€§å’Œæ•ˆç‡
- **æ¶æ„æ¨¡å¼**: ç‹¬ç«‹è„šæœ¬ï¼ŒèŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### ç›®å½•ç»“æ„
```
TrevanBox/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ knowledge-discovery/       # çŸ¥è¯†å‘ç°è„šæœ¬ç›®å½•
â”‚   â”‚   â”œâ”€â”€ main.py               # ä¸»å¤„ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ engine.py             # çŸ¥è¯†å…³è”å¼•æ“
â”‚   â”‚   â”œâ”€â”€ reporter.py           # æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ scheduler.py          # å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â”‚   â””â”€â”€ utils.py              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ preprocessor.sh           # ç°æœ‰AIé¢„å¤„ç†å™¨
â”‚   â””â”€â”€ ...
â”œâ”€â”€ config/
â”‚   â””â”€â”€ knowledge-config.yaml     # çŸ¥è¯†å‘ç°é…ç½®æ–‡ä»¶
â”œâ”€â”€ reports/
â”‚   â””â”€â”€ knowledge-discovery/      # çŸ¥è¯†å…³è”æŠ¥å‘Šå­˜å‚¨
â”‚       â”œâ”€â”€ 2025-10-18-report.md
â”‚       â””â”€â”€ knowledge-graph.json
â””â”€â”€ docs/
    â””â”€â”€ knowledge-discovery-design.md  # æœ¬è®¾è®¡æ–‡æ¡£
```

### æ ¸å¿ƒç»„ä»¶
1. **main.py**: ä¸»å¤„ç†è„šæœ¬ï¼Œæä¾›å‘½ä»¤è¡Œæ¥å£
2. **engine.py**: çŸ¥è¯†å…³è”å¼•æ“ï¼Œå®ç°æ ¸å¿ƒç®—æ³•
3. **reporter.py**: æŠ¥å‘Šç”Ÿæˆå™¨ï¼Œè¾“å‡ºåˆ†æç»“æœ
4. **scheduler.py**: å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ï¼Œè‡ªåŠ¨æ‰§è¡Œ
5. **utils.py**: å·¥å…·å‡½æ•°ï¼Œæ–‡ä»¶å¤„ç†ã€é…ç½®åŠ è½½ç­‰

### è°ƒç”¨æ–¹å¼
```bash
# æ‰¹é‡å¤„ç†æ‰€æœ‰å†…å®¹
./scripts/knowledge-discovery/main.py --batch --all

# å¤„ç†ç‰¹å®šç›®å½•
./scripts/knowledge-discovery/main.py --target 1-Projects/2-Areas/

# å¢é‡å¤„ç†ï¼ˆåªå¤„ç†æ–°å¢/ä¿®æ”¹æ–‡ä»¶ï¼‰
./scripts/knowledge-discovery/main.py --incremental

# é‡æ–°è®¡ç®—æ‰€æœ‰å…³è”
./scripts/knowledge-discovery/main.py --rebuild

# æŸ¥çœ‹å¤„ç†çŠ¶æ€
./scripts/knowledge-discovery/main.py --status
```

---

## ğŸ”§ æ ¸å¿ƒç®—æ³•è®¾è®¡

### å†…å®¹ç‰¹å¾æå–
```python
class ContentFeature:
    def __init__(self):
        self.file_path: str           # æ–‡ä»¶è·¯å¾„
        self.keywords: List[str]      # TF-IDFå…³é”®è¯
        self.tags: List[str]         # YAMLæ ‡ç­¾
        self.content_type: str       # project/area/resource/journal
        self.area: str              # æ‰€å±é¢†åŸŸ
        self.created_date: datetime # åˆ›å»ºæ—¶é—´
        self.updated_date: datetime # æ›´æ–°æ—¶é—´
        self.text_hash: str         # æ–‡æœ¬æŒ‡çº¹
        self.word_count: int        # å­—æ•°ç»Ÿè®¡
```

### å…³è”åº¦è®¡ç®—ç®—æ³•
```python
def calculate_similarity(content_a: ContentFeature, content_b: ContentFeature) -> float:
    """
    å¤šç»´åº¦ç›¸ä¼¼åº¦è®¡ç®—
    æ€»åˆ† = æ ‡ç­¾ç›¸ä¼¼åº¦*0.3 + å…³é”®è¯ç›¸ä¼¼åº¦*0.4 + é¢†åŸŸåŠ åˆ†*0.2 + æ—¶é—´æ¥è¿‘åº¦*0.1
    """
    # 1. æ ‡ç­¾ç›¸ä¼¼åº¦ (Jaccardç›¸ä¼¼åº¦)
    tag_similarity = jaccard_similarity(content_a.tags, content_b.tags) * 0.3

    # 2. å…³é”®è¯ç›¸ä¼¼åº¦ (ä½™å¼¦ç›¸ä¼¼åº¦)
    keyword_similarity = cosine_similarity(
        content_a.keywords, content_b.keywords
    ) * 0.4

    # 3. åŒé¢†åŸŸåŠ åˆ†
    area_bonus = 0.2 if content_a.area == content_b.area else 0

    # 4. æ—¶é—´æ¥è¿‘åº¦è¡°å‡
    time_decay = temporal_proximity(
        content_a.created_date, content_b.created_date
    ) * 0.1

    return tag_similarity + keyword_similarity + area_bonus + time_decay
```

### å…³è”ç±»å‹è¯†åˆ«
```python
def detect_relation_type(similarity_score: float) -> str:
    """æ ¹æ®ç›¸ä¼¼åº¦åˆ†æ•°ç¡®å®šå…³è”ç±»å‹"""
    if similarity_score >= 0.8:
        return "strongly_related"      # å¼ºå…³è”
    elif similarity_score >= 0.6:
        return "moderately_related"    # ä¸­ç­‰å…³è”
    elif similarity_score >= 0.4:
        return "weakly_related"        # å¼±å…³è”
    else:
        return "not_related"           # æ— å…³è”
```

### çŸ¥è¯†èšç±»åˆ†æ
```python
def cluster_analysis(content_features: List[ContentFeature]) -> List[KnowledgeCluster]:
    """
    åŸºäºç›¸ä¼¼åº¦çŸ©é˜µè¿›è¡ŒçŸ¥è¯†èšç±»
    ä½¿ç”¨å±‚æ¬¡èšç±»ç®—æ³•ï¼Œè¯†åˆ«çŸ¥è¯†ä¸»é¢˜ç°‡
    """
    # æ„å»ºç›¸ä¼¼åº¦çŸ©é˜µ
    similarity_matrix = build_similarity_matrix(content_features)

    # å±‚æ¬¡èšç±»
    clusters = hierarchical_clustering(similarity_matrix, threshold=0.5)

    # æå–èšç±»ç‰¹å¾
    knowledge_clusters = []
    for cluster in clusters:
        kc = KnowledgeCluster(
            items=cluster.items,
            common_keywords=extract_common_keywords(cluster.items),
            dominant_area=identify_dominant_area(cluster.items),
            cohesion_score=calculate_cohesion(cluster)
        )
        knowledge_clusters.append(kc)

    return knowledge_clusters
```

---

## ğŸ“Š æŠ¥å‘Šç”Ÿæˆè®¾è®¡

### æŠ¥å‘Šæ–‡ä»¶ç»“æ„
```markdown
# çŸ¥è¯†å…³è”å‘ç°æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2025-10-18 14:30:00
**å¤„ç†æ–‡ä»¶æ•°**: 156ä¸ª
**å‘ç°å…³è”æ•°**: 89ä¸ª
**å¤„ç†è€—æ—¶**: 2åˆ†34ç§’

## ğŸ“Š ç»Ÿè®¡æ¦‚è§ˆ

### å…³è”åˆ†å¸ƒ
- **å¼ºå…³è”** (0.8+): 12ä¸ª
- **ä¸­ç­‰å…³è”** (0.6-0.8): 34ä¸ª
- **å¼±å…³è”** (0.4-0.6): 43ä¸ª

### å†…å®¹ç±»å‹åˆ†å¸ƒ
- **Projects**: 45ä¸ª (28.8%)
- **Areas**: 38ä¸ª (24.4%)
- **Resources**: 52ä¸ª (33.3%)
- **Journals**: 21ä¸ª (13.5%)

## ğŸ” é«˜ä»·å€¼å…³è”å‘ç°

### 1. é¡¹ç›®é—´å…³è”
#### [æœºå™¨å­¦ä¹ é¡¹ç›®] â†” [æ•°æ®åˆ†æé¡¹ç›®] (ç›¸ä¼¼åº¦: 0.85)
- **å…±åŒæ ‡ç­¾**: python, machine-learning, data-analysis
- **å…³è”åŸå› **: æŠ€æœ¯æ ˆé‡å ï¼Œå…±äº«ç®—æ³•åº“
- **å»ºè®®**: è€ƒè™‘ä»£ç åº“å¤ç”¨å’ŒçŸ¥è¯†å…±äº«

#### [ä¸ªäººæˆé•¿è®¡åˆ’] â†” [èŒä¸šå‘å±•è§„åˆ’] (ç›¸ä¼¼åº¦: 0.72)
- **å…³è”ç‚¹**: å­¦ä¹ è®¡åˆ’ä¸æŠ€èƒ½æå‡
- **å…±åŒå…³é”®è¯**: learning, growth, skills, goals
- **å»ºè®®**: ç»Ÿä¸€è§„åˆ’ï¼Œé¿å…é‡å¤å­¦ä¹ 

### 2. é¢†åŸŸäº¤å‰å…³è”
#### [Personal-Growth] â†” [Career] (ç›¸ä¼¼åº¦: 0.68)
- **äº¤å‰ä¸»é¢˜**: å­¦ä¹ è®¡åˆ’ã€æŠ€èƒ½æå‡ã€ç›®æ ‡ç®¡ç†
- **å…³è”å¼ºåº¦**: æŒç»­å¢å¼º (æœ€è¿‘3ä¸ªæœˆæ–°å¢5ä¸ªå…³è”)
- **å»ºè®®**: å»ºç«‹ç»Ÿä¸€çš„å‘å±•è§„åˆ’æ¡†æ¶

## ğŸ“ˆ çŸ¥è¯†èšç±»åˆ†æ

### èšç±»1: æœºå™¨å­¦ä¹ ä¸»é¢˜ (8ä¸ªæ–‡ä»¶)
**æ¶‰åŠå†…å®¹**: Projects, Areas, Resources
**æ ¸å¿ƒæ¦‚å¿µ**: ç®—æ³•ã€æ¨¡å‹ã€æ•°æ®å¤„ç†ã€Python
**å‡èšåŠ›åˆ†æ•°**: 0.78
**å»ºè®®**:
- åˆ›å»ºä¸“é—¨çš„MLå­¦ä¹ èµ„æºåº“
- å»ºç«‹é¡¹ç›®é—´çš„ä»£ç å…±äº«æœºåˆ¶
- è¡¥å……ç†è®ºåŸºç¡€èµ„æº

### èšç±»2: ä¸ªäººæ•ˆç‡æå‡ (6ä¸ªæ–‡ä»¶)
**æ¶‰åŠå†…å®¹**: Areas, Resources, Journals
**æ ¸å¿ƒæ¦‚å¿µ**: GTDã€æ—¶é—´ç®¡ç†ã€å·¥å…·ä½¿ç”¨
**å‡èšåŠ›åˆ†æ•°**: 0.71
**å»ºè®®**:
- æ•´åˆå·¥å…·ä½¿ç”¨æŒ‡å—
- å»ºç«‹æ•ˆç‡è¿½è¸ªæœºåˆ¶

## ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®

### ç«‹å³è¡ŒåŠ¨é¡¹
1. **åˆå¹¶é‡å¤èµ„æº**: å‘ç°3ä¸ªé«˜åº¦ç›¸ä¼¼çš„å­¦ä¹ èµ„æºï¼Œå»ºè®®æ•´åˆ
2. **å»ºç«‹çŸ¥è¯†æ¡¥æ¢**: Projectså’ŒAreasé—´ç¼ºä¹æœ‰æ•ˆè¿æ¥ï¼Œå»ºè®®å»ºç«‹å…³è”æœºåˆ¶
3. **è¡¥å……å†…å®¹ç¼ºå£**: Healthé¢†åŸŸå†…å®¹è¾ƒå°‘ï¼Œå»ºè®®å¢åŠ å¥åº·ç®¡ç†ç›¸å…³èµ„æº

### é•¿æœŸä¼˜åŒ–å»ºè®®
1. **çŸ¥è¯†ä½“ç³»å®Œå–„**: å½“å‰çŸ¥è¯†ç½‘ç»œå­˜åœ¨å­¤ç«‹èŠ‚ç‚¹ï¼Œå»ºè®®åŠ å¼ºè¿æ¥
2. **å­¦ä¹ è·¯å¾„ä¼˜åŒ–**: åŸºäºå…³è”åˆ†æï¼Œå»ºè®®è°ƒæ•´å­¦ä¹ è®¡åˆ’ä¼˜å…ˆçº§
3. **å†…å®¹è´¨é‡æå‡**: éƒ¨åˆ†èµ„æºæ ‡ç­¾ä¸å¤Ÿå‡†ç¡®ï¼Œå»ºè®®é‡æ–°æ•´ç†

## ğŸ“‹ å¤„ç†è¯¦æƒ…

### å¤„ç†ç»Ÿè®¡
- **æ‰«ææ–‡ä»¶æ€»æ•°**: 156ä¸ª
- **æˆåŠŸè§£æ**: 153ä¸ª (98.1%)
- **è§£æå¤±è´¥**: 3ä¸ª (1.9%)
- **æ–°å¢å…³è”**: 89ä¸ª
- **æ›´æ–°å…³è”**: 23ä¸ª

### é”™è¯¯æŠ¥å‘Š
- `[æ–‡ä»¶è·¯å¾„]`: YAMLæ ¼å¼é”™è¯¯ï¼Œå·²è·³è¿‡
- `[æ–‡ä»¶è·¯å¾„]`: ç¼–ç é—®é¢˜ï¼Œå·²è‡ªåŠ¨è½¬æ¢

---

## âš™ï¸ é…ç½®æ–‡ä»¶è®¾è®¡

### knowledge-config.yaml
```yaml
# çŸ¥è¯†å‘ç°ç³»ç»Ÿé…ç½®
# ç‰ˆæœ¬: v1.0
# æœ€åæ›´æ–°: 2025-10-18

# å¤„ç†èŒƒå›´é…ç½®
processing:
  # æ‰«æç›®å½• (PARAæ ¸å¿ƒç›®å½•)
  scan_directories:
    - "1-Projects"
    - "2-Areas"
    - "3-Resources"
    - "0-Inbox/pending"

  # æ’é™¤ç›®å½• (å­˜æ¡£ã€é™„ä»¶ã€æ¨¡æ¿ç­‰)
  exclude_directories:
    - "4-Archives"
    - "Assets"
    - "templates"
    - ".obsidian"
    - "node_modules"

  # æ–‡ä»¶ç±»å‹è¿‡æ»¤
  include_extensions:
    - ".md"
    - ".markdown"

  # æœ€å°æ–‡ä»¶å¤§å° (å­—èŠ‚)
  min_file_size: 100

# å…³è”ç®—æ³•å‚æ•°
similarity:
  # æƒé‡é…ç½® (æ€»å’Œåº”ä¸º1.0)
  tag_weight: 0.3          # æ ‡ç­¾ç›¸ä¼¼åº¦æƒé‡
  keyword_weight: 0.4      # å…³é”®è¯ç›¸ä¼¼åº¦æƒé‡
  area_bonus: 0.2          # åŒé¢†åŸŸåŠ åˆ†
  time_decay: 0.1          # æ—¶é—´æ¥è¿‘åº¦æƒé‡

  # ç›¸ä¼¼åº¦é˜ˆå€¼
  thresholds:
    strong: 0.8            # å¼ºå…³è”é˜ˆå€¼
    moderate: 0.6          # ä¸­ç­‰å…³è”é˜ˆå€¼
    weak: 0.4              # å¼±å…³è”é˜ˆå€¼
    minimum: 0.2           # æœ€ä½å…³è”é˜ˆå€¼

  # å…³é”®è¯æå–é…ç½®
  keywords:
    max_keywords: 10       # æ¯ä¸ªæ–‡æ¡£æœ€å¤§å…³é”®è¯æ•°
    min_frequency: 2       # æœ€å°è¯é¢‘
    stop_words:            # åœç”¨è¯åˆ—è¡¨
      - "çš„"
      - "äº†"
      - "åœ¨"
      - "æ˜¯"
      - "æˆ‘"
      - "æœ‰"

# æŠ¥å‘Šé…ç½®
reporting:
  output_dir: "reports/knowledge-discovery"
  max_relations_per_item: 5      # æ¯ä¸ªæ–‡ä»¶æœ€å¤§å…³è”æ•°
  include_clusters: true         # åŒ…å«èšç±»åˆ†æ
  include_suggestions: true      # åŒ…å«ä¸ªæ€§åŒ–å»ºè®®
  include_statistics: true       # åŒ…å«ç»Ÿè®¡ä¿¡æ¯

  # æŠ¥å‘Šæ ¼å¼
  formats:
    markdown: true               # Markdownæ ¼å¼æŠ¥å‘Š
    json: true                   # JSONæ•°æ® (ç”¨äºå¯è§†åŒ–)

  # å†å²è®°å½•
  history:
    retention_days: 30           # æŠ¥å‘Šä¿ç•™å¤©æ•°
    archive_old: true            # è‡ªåŠ¨å½’æ¡£æ—§æŠ¥å‘Š

# æ€§èƒ½ä¼˜åŒ–é…ç½®
performance:
  max_files_per_batch: 500       # æ¯æ‰¹å¤„ç†æœ€å¤§æ–‡ä»¶æ•°
  parallel_processing: true      # å¹¶è¡Œå¤„ç†
  cache_enabled: true           # å¯ç”¨ç¼“å­˜
  cache_duration: 3600          # ç¼“å­˜æœ‰æ•ˆæœŸ(ç§’)

  # å†…å­˜ç®¡ç†
  memory_limit: "1GB"           # å†…å­˜ä½¿ç”¨é™åˆ¶
  gc_frequency: 100             # åƒåœ¾å›æ”¶é¢‘ç‡

# å®šæ—¶ä»»åŠ¡é…ç½®
scheduler:
  enabled: true                  # å¯ç”¨å®šæ—¶ä»»åŠ¡
  timezone: "Asia/Shanghai"      # æ—¶åŒºè®¾ç½®

  # è°ƒåº¦é…ç½®
  schedules:
    daily: "0 2 * * *"           # æ¯æ—¥å‡Œæ™¨2ç‚¹
    weekly: "0 3 * * 0"          # æ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹
    monthly: "0 4 1 * *"         # æ¯æœˆ1å·å‡Œæ™¨4ç‚¹

  # å¢é‡å¤„ç†
  incremental:
    enabled: true
    check_interval: 3600         # æ£€æŸ¥é—´éš”(ç§’)

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"                  # æ—¥å¿—çº§åˆ«
  file: "logs/knowledge-discovery.log"
  max_size: "10MB"
  backup_count: 5
```

---

## ğŸš€ å®šæ—¶å¤„ç†ä¸ç»´æŠ¤

### å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ (scheduler.py)
```python
class KnowledgeDiscoveryScheduler:
    """çŸ¥è¯†å‘ç°å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨"""

    def __init__(self, config_path: str):
        self.config = self.load_config(config_path)
        self.last_run = self.load_last_run_time()

    def schedule_discovery(self):
        """ä¸»è°ƒåº¦é€»è¾‘"""
        # 1. æ£€æŸ¥è°ƒåº¦æ—¶é—´
        if self.is_scheduled_time():

            # 2. å¢é‡å¤„ç†ï¼ˆåªå¤„ç†æ–°å¢/ä¿®æ”¹æ–‡ä»¶ï¼‰
            if self.should_run_incremental():
                self.run_incremental_processing()

            # 3. ç”Ÿæˆå‘¨æŠ¥å’ŒæœˆæŠ¥æ€»ç»“
            self.generate_periodic_reports()

            # 4. è‡ªåŠ¨æ¸…ç†è¿‡æœŸæŠ¥å‘Š
            self.cleanup_old_reports()

            # 5. æ›´æ–°è¿è¡Œæ—¶é—´æˆ³
            self.update_last_run_time()

    def incremental_processing(self):
        """å¢é‡å¤„ç†é€»è¾‘"""
        # 1. è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´
        changed_files = self.get_changed_files_since(self.last_run)

        # 2. å¯¹æ¯”å†…å®¹å“ˆå¸Œå€¼
        for file_path in changed_files:
            if self.content_hash_changed(file_path):
                self.process_file(file_path)

        # 3. æ›´æ–°å…³è”ç¼“å­˜
        self.update_relation_cache()
```

### ç»´æŠ¤å·¥å…·é›†
```bash
# ä¸»è¦æ“ä½œå‘½ä»¤
./scripts/knowledge-discovery/main.py [å‘½ä»¤] [é€‰é¡¹]

# å‘½ä»¤è¯´æ˜:
#   --all              å¤„ç†æ‰€æœ‰å†…å®¹
#   --target DIR       å¤„ç†æŒ‡å®šç›®å½•
#   --incremental      å¢é‡å¤„ç†
#   --rebuild          é‡æ–°è®¡ç®—æ‰€æœ‰å…³è”
#   --status           æŸ¥çœ‹å¤„ç†çŠ¶æ€
#   --config PATH      æŒ‡å®šé…ç½®æ–‡ä»¶
#   --dry-run          é¢„è§ˆæ¨¡å¼
#   --verbose          è¯¦ç»†è¾“å‡º
#   --help             æ˜¾ç¤ºå¸®åŠ©

# ç¤ºä¾‹ç”¨æ³•:
./scripts/knowledge-discovery/main.py --all --verbose
./scripts/knowledge-discovery/main.py --incremental --target 1-Projects/
./scripts/knowledge-discovery/main.py --rebuild --config custom-config.yaml
```

### æ•°æ®å­˜å‚¨ç­–ç•¥
1. **è½»é‡çº§ç¼“å­˜**: SQLiteæ•°æ®åº“å­˜å‚¨ç‰¹å¾å‘é‡å’Œå…³è”ç»“æœ
2. **ç‰ˆæœ¬æ§åˆ¶**: æŠ¥å‘Šæ–‡ä»¶çº³å…¥gitç®¡ç†ï¼Œæ”¯æŒå†å²è¿½è¸ª
3. **æ€§èƒ½ç›‘æ§**: è®°å½•å¤„ç†æ—¶é—´ã€å†…å­˜ä½¿ç”¨ã€æ–‡ä»¶ç»Ÿè®¡ç­‰æŒ‡æ ‡
4. **å¤‡ä»½æœºåˆ¶**: å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶å’Œé‡è¦æ•°æ®

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœä¸ä»·å€¼

### æ€§èƒ½æŒ‡æ ‡
- **å¤„ç†é€Ÿåº¦**: 1000+æ–‡ä»¶/åˆ†é’Ÿ (æ ‡å‡†é…ç½®)
- **å†…å­˜ä½¿ç”¨**: <1GB (æ­£å¸¸å·¥ä½œè´Ÿè½½)
- **å‡†ç¡®æ€§**: åŸºäºç»Ÿè®¡è§„åˆ™ï¼Œç»“æœç¨³å®šå¯é‡å¤
- **è¦†ç›–ç‡**: æ”¯æŒæ‰€æœ‰PARAç›®å½•å†…å®¹

### çŸ¥è¯†å‘ç°ä»·å€¼
- **éšè—å…³è”å‘ç°**: è‡ªåŠ¨è¯†åˆ«å†…å®¹é—´çš„æ½œåœ¨è”ç³»
- **çŸ¥è¯†ç½‘ç»œæ„å»º**: å½¢æˆç»“æ„åŒ–çš„çŸ¥è¯†å…³è”å›¾è°±
- **é‡å¤å†…å®¹è¯†åˆ«**: å‘ç°é‡å¤æˆ–é«˜åº¦ç›¸ä¼¼çš„å­¦ä¹ èµ„æº
- **çŸ¥è¯†ç¼ºå£åˆ†æ**: è¯†åˆ«çŸ¥è¯†ä½“ç³»ä¸­çš„è–„å¼±ç¯èŠ‚

### ä¸ªæ€§åŒ–æ´å¯Ÿ
- **å­¦ä¹ è·¯å¾„ä¼˜åŒ–**: åŸºäºå…³è”åˆ†ææ¨èå­¦ä¹ é¡ºåº
- **å†…å®¹è´¨é‡æå‡**: æ ‡ç­¾å’Œåˆ†ç±»çš„å‡†ç¡®æ€§æ”¹è¿›å»ºè®®
- **æ•ˆç‡æå‡å»ºè®®**: å‡å°‘é‡å¤å·¥ä½œï¼Œä¼˜åŒ–ä¿¡æ¯ç»„ç»‡
- **æˆé•¿è½¨è¿¹è¿½è¸ª**: é‡åŒ–çŸ¥è¯†ç§¯ç´¯å’Œå‘å±•è¶‹åŠ¿

---

## ğŸ”§ æŠ€æœ¯å®ç°è¦ç‚¹

### ä¾èµ–ç®¡ç†
åŸºäºé¡¹ç›®ç°æœ‰çš„uvç¯å¢ƒç®¡ç†:
```yaml
# pyproject.toml æ–°å¢ä¾èµ–
[project.optional-dependencies]
knowledge-discovery = [
    "scipy>=1.9.0",           # ç§‘å­¦è®¡ç®—åº“
    "scikit-learn>=1.1.0",    # æœºå™¨å­¦ä¹ åº“
    "networkx>=2.8.0",        # å›¾åˆ†æåº“
    "jieba>=0.42.1",          # ä¸­æ–‡åˆ†è¯
    "schedule>=1.2.0",        # å®šæ—¶ä»»åŠ¡
]
```

### æ ¸å¿ƒç®—æ³•é€‰æ‹©
1. **æ–‡æœ¬ç›¸ä¼¼åº¦**: TF-IDF + ä½™å¼¦ç›¸ä¼¼åº¦
2. **æ ‡ç­¾ç›¸ä¼¼åº¦**: Jaccardç›¸ä¼¼åº¦ç³»æ•°
3. **èšç±»ç®—æ³•**: å±‚æ¬¡èšç±» (Hierarchical Clustering)
4. **å›¾åˆ†æ**: NetworkXå›¾åº“å¤„ç†å…³è”ç½‘ç»œ

### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
1. **æ‰¹é‡å¤„ç†**: åˆ†æ‰¹å¤„ç†å¤§é‡æ–‡ä»¶ï¼Œé¿å…å†…å­˜æº¢å‡º
2. **å¹¶è¡Œè®¡ç®—**: å¤šè¿›ç¨‹å¤„ç†ï¼Œæé«˜å¤„ç†é€Ÿåº¦
3. **æ™ºèƒ½ç¼“å­˜**: ç¼“å­˜ä¸­é—´ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
4. **å¢é‡æ›´æ–°**: åªå¤„ç†å˜åŒ–å†…å®¹ï¼Œå‡å°‘è®¡ç®—é‡

---

## ğŸ“… å®æ–½è·¯çº¿å›¾

### Phase 1: æ ¸å¿ƒåŠŸèƒ½å¼€å‘ (1-2å‘¨)
- [ ] åˆ›å»ºé¡¹ç›®ç»“æ„å’ŒåŸºç¡€æ¡†æ¶
- [ ] å®ç°å†…å®¹è§£æå’Œç‰¹å¾æå–
- [ ] å¼€å‘æ ¸å¿ƒç›¸ä¼¼åº¦ç®—æ³•
- [ ] åŸºç¡€æŠ¥å‘Šç”ŸæˆåŠŸèƒ½

### Phase 2: é«˜çº§åŠŸèƒ½å®ç° (1-2å‘¨)
- [ ] çŸ¥è¯†èšç±»åˆ†æç®—æ³•
- [ ] å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
- [ ] é…ç½®æ–‡ä»¶ç³»ç»Ÿ
- [ ] å¢é‡å¤„ç†æœºåˆ¶

### Phase 3: ä¼˜åŒ–ä¸é›†æˆ (1å‘¨)
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†
- [ ] ä¸ç°æœ‰ç³»ç»Ÿé›†æˆæµ‹è¯•
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ
- [ ] æ–‡æ¡£å®Œå–„å’Œä½¿ç”¨æŒ‡å—

### Phase 4: éƒ¨ç½²ä¸ç›‘æ§ (æŒç»­)
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†
- [ ] æŒç»­ä¼˜åŒ–æ”¹è¿›

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… æˆåŠŸè§£ææ‰€æœ‰æ ‡å‡†markdownæ–‡ä»¶
- âœ… å‡†ç¡®æå–YAMLå…ƒæ•°æ®å’Œå†…å®¹ç‰¹å¾
- âœ… ç”Ÿæˆè¯¦ç»†çš„å…³è”åˆ†ææŠ¥å‘Š
- âœ… æ”¯æŒå¢é‡å’Œæ‰¹é‡å¤„ç†æ¨¡å¼

### æ€§èƒ½æŒ‡æ ‡
- âœ… å¤„ç†é€Ÿåº¦ > 1000æ–‡ä»¶/åˆ†é’Ÿ
- âœ… å†…å­˜ä½¿ç”¨ < 1GB
- âœ… æŠ¥å‘Šç”Ÿæˆæ—¶é—´ < 5åˆ†é’Ÿ (1000æ–‡ä»¶)
- âœ… ç³»ç»Ÿç¨³å®šæ€§ > 99%

### ç”¨æˆ·ä½“éªŒ
- âœ… ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œæ¥å£
- âœ… æ¸…æ™°è¯¦ç»†çš„æŠ¥å‘Šæ ¼å¼
- âœ… çµæ´»çš„é…ç½®é€‰é¡¹
- âœ… å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¸®åŠ©ä¿¡æ¯

---

## ğŸ“ ç»´æŠ¤ä¸æ›´æ–°

### æ—¥å¸¸ç»´æŠ¤
- **ç›‘æ§æ—¥å¿—**: å®šæœŸæ£€æŸ¥é”™è¯¯æ—¥å¿—å’Œæ€§èƒ½æŒ‡æ ‡
- **é…ç½®ä¼˜åŒ–**: æ ¹æ®ä½¿ç”¨æƒ…å†µè°ƒæ•´ç®—æ³•å‚æ•°
- **æŠ¥å‘Šç®¡ç†**: å®šæœŸæ¸…ç†è¿‡æœŸæŠ¥å‘Šï¼Œä¿æŒå­˜å‚¨ç©ºé—´
- **ä¾èµ–æ›´æ–°**: å®šæœŸæ›´æ–°Pythonä¾èµ–åŒ…

### åŠŸèƒ½æ‰©å±•
- **ç®—æ³•æ”¹è¿›**: æ ¹æ®åé¦ˆä¼˜åŒ–ç›¸ä¼¼åº¦è®¡ç®—ç®—æ³•
- **æŠ¥å‘Šæ ¼å¼**: å¢åŠ æ–°çš„æŠ¥å‘Šæ ¼å¼å’Œå¯è§†åŒ–é€‰é¡¹
- **é›†æˆæ‰©å±•**: ä¸å…¶ä»–å·¥å…·å’ŒæœåŠ¡çš„é›†æˆ
- **ç”¨æˆ·å®šåˆ¶**: æ”¯æŒæ›´å¤šä¸ªæ€§åŒ–é…ç½®é€‰é¡¹

---

## ğŸ“š å‚è€ƒèµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [TF-IDFç®—æ³•åŸç†](https://en.wikipedia.org/wiki/Tf%E2%80%93idf)
- [Jaccardç›¸ä¼¼åº¦](https://en.wikipedia.org/wiki/Jaccard_index)
- [å±‚æ¬¡èšç±»ç®—æ³•](https://scikit-learn.org/stable/modules/clustering.html#hierarchical-clustering)
- [NetworkXå›¾åˆ†æ](https://networkx.org/)

### ç›¸å…³é¡¹ç›®
- [Obsidianæ’ä»¶å¼€å‘](https://docs.obsidian.md/Plugins/Getting+started/Build+a+plugin)
- [Pythonæ–‡æœ¬å¤„ç†](https://www.nltk.org/)
- [çŸ¥è¯†å›¾è°±æ„å»º](https://neo4j.com/developer/graph-data-science/)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025-10-18
**æœ€åæ›´æ–°**: 2025-10-18
**ä¸‹æ¬¡å®¡æŸ¥**: 2025-11-18

> ğŸ’¡ **æç¤º**: è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡æ–¹æ¡ˆï¼ŒåŒ…å«äº†ä»éœ€æ±‚åˆ†æåˆ°å®æ–½éƒ¨ç½²çš„æ‰€æœ‰å…³é”®è¦ç´ ã€‚åœ¨å®æ–½è¿‡ç¨‹ä¸­ï¼Œå»ºè®®æŒ‰ç…§è·¯çº¿å›¾åˆ†é˜¶æ®µè¿›è¡Œï¼Œæ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œå……åˆ†æµ‹è¯•å’ŒéªŒè¯ã€‚