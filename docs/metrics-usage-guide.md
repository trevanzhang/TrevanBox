# åº¦é‡æŒ‡æ ‡ç³»ç»Ÿä½¿ç”¨æŒ‡å—

> **æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨TrevanBoxåº¦é‡æŒ‡æ ‡ä½“ç³»ï¼Œé‡åŒ–ä¸ªäººæˆé•¿ä»·å€¼**

---
created: 2025-10-16T21:00:00+08:00
updated: 2025-10-16T21:00:00+08:00
status: evergreen
type: resource
tags: [guide, metrics, usage, tutorial, getting-started]
area: "TrevanBox-System"
usefulness: 10/10
difficulty: 5/10
---

## æ¦‚è¿°

TrevanBoxåº¦é‡æŒ‡æ ‡ç³»ç»Ÿæ˜¯ä¸€å¥—å®Œæ•´çš„ä¸ªäººçŸ¥è¯†ç®¡ç†ä»·å€¼é‡åŒ–å·¥å…·ï¼Œå¸®åŠ©æ‚¨ï¼š
- ğŸ“Š **å¯è§†åŒ–ç³»ç»Ÿå¥åº·çŠ¶å†µ**
- ğŸ“ˆ **è¿½è¸ªä¸ªäººæˆé•¿è½¨è¿¹**
- âš¡ **å‘ç°æ•ˆç‡æå‡æœºä¼š**
- ğŸ¯ **åˆ¶å®šæ•°æ®é©±åŠ¨çš„æ”¹è¿›è®¡åˆ’**

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šç³»ç»Ÿæ£€æŸ¥
ç¡®ä¿æ‚¨çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š
- âœ… Python 3.7+ ç¯å¢ƒ
- âœ… å·²å®‰è£…uvåŒ…ç®¡ç†å™¨
- âœ… TrevanBoxç›®å½•ç»“æ„å®Œæ•´
- âœ… æœ‰åŸºæœ¬çš„PARAå†…å®¹

### ç¬¬äºŒæ­¥ï¼šè¿è¡ŒåŸºç¡€åˆ†æ
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨Shellè„šæœ¬ï¼ˆé€‚åˆå¿«é€ŸæŸ¥çœ‹ï¼‰
./scripts/metrics/metrics-dashboard.sh

# æ–¹æ³•2ï¼šä½¿ç”¨Pythonå·¥å…·ï¼ˆé€‚åˆæ·±åº¦åˆ†æï¼‰
./scripts/metrics/metrics_analyzer.py
```

### ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹æŠ¥å‘Š
åˆ†æå®Œæˆåï¼ŒæŠ¥å‘Šä¼šä¿å­˜åœ¨ `docs/reports/` ç›®å½•ä¸­ï¼š
- `metrics-report-YYYY-MM-DD.md` - Shellè„šæœ¬ç”Ÿæˆçš„å¿«é€ŸæŠ¥å‘Š
- `detailed-metrics-YYYY-MM-DD.md` - Pythonå·¥å…·ç”Ÿæˆçš„è¯¦ç»†æŠ¥å‘Š

## å·¥å…·å¯¹æ¯”

| ç‰¹æ€§ | Shellè„šæœ¬ | Pythonå·¥å…· |
|------|-----------|------------|
| è¿è¡Œé€Ÿåº¦ | âš¡ å¿«é€Ÿ | ğŸ¢ ç¨æ…¢ |
| åˆ†ææ·±åº¦ | ğŸ“Š åŸºç¡€ | ğŸ“ˆ æ·±åº¦ |
| å†å²è¿½è¸ª | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| è‡ªå®šä¹‰é…ç½® | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| æŠ¥å‘Šè¯¦ç»†åº¦ | ğŸ“ ç®€æ´ | ğŸ“– è¯¦ç»† |
| æ¨èåœºæ™¯ | æ—¥å¸¸å¿«é€Ÿæ£€æŸ¥ | æ·±åº¦åˆ†æä¼˜åŒ– |

**å»ºè®®**ï¼šæ—¥å¸¸ä½¿ç”¨Shellè„šæœ¬ï¼Œæ¯å‘¨ä½¿ç”¨Pythonå·¥å…·è¿›è¡Œæ·±åº¦åˆ†æã€‚

## è¯¦ç»†ä½¿ç”¨æ•™ç¨‹

### 1. åŸºç¡€å¥åº·åº¦æ£€æŸ¥

#### ä½¿ç”¨åœºæ™¯
- æ¯æ—¥ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
- å¿«é€Ÿäº†è§£ç³»ç»Ÿå¥åº·çŠ¶å†µ
- å‘ç°æ˜æ˜¾çš„å¼‚å¸¸æƒ…å†µ

#### æ“ä½œæ­¥éª¤
```bash
# è¿›å…¥TrevanBoxç›®å½•
cd D:\TrevanData\TrevanBox

# è¿è¡Œå¥åº·åº¦æ£€æŸ¥
./scripts/metrics/metrics-dashboard.sh
```

#### ç»“æœè§£è¯»
```
=== åº¦é‡æŠ¥å‘Šç”Ÿæˆå®Œæˆ ===
æŠ¥å‘Šæ–‡ä»¶: docs/reports/metrics-report-2025-10-16.md

å…³é”®æŒ‡æ ‡:
æ€»æ–‡ä»¶æ•°: 156
ç³»ç»Ÿå¥åº·åº¦: 82/100 ğŸŸ¢ ä¼˜ç§€
å¾…å¤„ç†ç§¯å‹: 3 é¡¹ (æœ€æ—§: 2 å¤©)

PARAåˆ†å¸ƒ:
Projects: 25 (16.0%) ğŸŸ¢
Areas: 45 (28.8%) ğŸŸ¢
Resources: 75 (48.1%) ğŸŸ¡
Archives: 11 (7.1%) ğŸŸ¢
```

**å…³é”®æŒ‡æ ‡è¯´æ˜**ï¼š
- **ç³»ç»Ÿå¥åº·åº¦**ï¼šç»¼åˆè¯„åˆ†ï¼Œ>80åˆ†ä¸ºä¼˜ç§€
- **å¾…å¤„ç†ç§¯å‹**ï¼šæ•°é‡å’Œæœ€æ—§å¹´é¾„ï¼Œåæ˜ å¤„ç†åŠæ—¶æ€§
- **PARAåˆ†å¸ƒ**ï¼šå„ç±»åˆ«å æ¯”ï¼ŒğŸŸ¢è¡¨ç¤ºå¥åº·ï¼ŒğŸŸ¡éœ€å…³æ³¨ï¼ŒğŸ”´å¼‚å¸¸

### 2. æ·±åº¦åˆ†æè¯„ä¼°

#### ä½¿ç”¨åœºæ™¯
- æ¯å‘¨ç³»ç»Ÿå›é¡¾
- æœˆåº¦æ•ˆæœè¯„ä¼°
- åˆ¶å®šæ”¹è¿›è®¡åˆ’

#### æ“ä½œæ­¥éª¤
```bash
# è¿è¡Œæ·±åº¦åˆ†æ
./scripts/metrics/metrics_analyzer.py

# æˆ–è€…å¸¦å‚æ•°è¿è¡Œ
./scripts/metrics/metrics_analyzer.py --base-path /path/to/TrevanBox --quiet
```

#### é«˜çº§åŠŸèƒ½

##### å†å²æ•°æ®è¿½è¸ª
Pythonå·¥å…·ä¼šè‡ªåŠ¨ä¿å­˜å†å²æ•°æ®ï¼Œæ”¯æŒè¶‹åŠ¿åˆ†æï¼š
```json
// å†å²æ•°æ®æ–‡ä»¶ï¼šdocs/reports/metrics_history.json
[
  {
    "date": "2025-10-09T10:00:00",
    "overall_health": 78.5,
    "total_files": 148,
    "para_distribution": {...}
  },
  {
    "date": "2025-10-16T10:00:00",
    "overall_health": 82.0,
    "total_files": 156,
    "para_distribution": {...}
  }
]
```

##### è‡ªå®šä¹‰åˆ†æé¢‘ç‡
```bash
# æ¯æ—¥å¿«é€Ÿæ£€æŸ¥ï¼ˆä¸ä¿å­˜å†å²ï¼‰
./scripts/metrics/metrics_analyzer.py --no-save --no-report

# æ¯å‘¨æ·±åº¦åˆ†æï¼ˆä¿å­˜å†å²ï¼Œç”ŸæˆæŠ¥å‘Šï¼‰
./scripts/metrics/metrics_analyzer.py

# æ¯æœˆç»¼åˆåˆ†æï¼ˆåŒ…å«è¶‹åŠ¿åˆ†æï¼‰
./scripts/metrics/metrics_analyzer.py --base-path $TREVANBOX_PATH
```

### 3. ä¸ªæ€§åŒ–é…ç½®

#### åˆ›å»ºé…ç½®æ–‡ä»¶
åœ¨ `scripts/` ç›®å½•ä¸‹åˆ›å»º `metrics_config.json`ï¼š

```json
{
  "personal_info": {
    "hourly_rate": 100,
    "work_days_per_month": 22,
    "target_efficiency_improvement": 30
  },
  "para_targets": {
    "1-Projects": {"min": 15, "max": 25, "weight": 0.3},
    "2-Areas": {"min": 25, "max": 35, "weight": 0.25},
    "3-Resources": {"min": 35, "max": 45, "weight": 0.25},
    "4-Archives": {"min": 5, "max": 15, "weight": 0.2}
  },
  "quality_thresholds": {
    "metadata_coverage": 90,
    "linked_files_ratio": 80,
    "avg_links_per_file": 3,
    "content_activity": 40
  },
  "alert_thresholds": {
    "pending_count": 10,
    "oldest_pending_age": 7,
    "low_health_score": 60
  }
}
```

#### é…ç½®è¯´æ˜

##### ä¸ªäººä¿¡æ¯è®¾ç½®
- `hourly_rate`ï¼šæ‚¨çš„æ—¶è–ªï¼ˆç”¨äºROIè®¡ç®—ï¼‰
- `work_days_per_month`ï¼šæ¯æœˆå·¥ä½œå¤©æ•°
- `target_efficiency_improvement`ï¼šç›®æ ‡æ•ˆç‡æå‡ç™¾åˆ†æ¯”

##### PARAç›®æ ‡é…ç½®
- `min/max`ï¼šå„ç±»åˆ«çš„ç†æƒ³å æ¯”èŒƒå›´
- `weight`ï¼šå„ç±»åˆ«åœ¨æ€»ä½“å¥åº·åº¦ä¸­çš„æƒé‡

##### è´¨é‡é˜ˆå€¼è®¾ç½®
- `metadata_coverage`ï¼šå…ƒæ•°æ®è¦†ç›–ç‡ç›®æ ‡
- `linked_files_ratio`ï¼šé“¾æ¥æ–‡ä»¶æ¯”ä¾‹ç›®æ ‡
- `avg_links_per_file`ï¼šå¹³å‡é“¾æ¥æ•°ç›®æ ‡
- `content_activity`ï¼šå†…å®¹æ´»è·ƒåº¦ç›®æ ‡

##### è­¦æŠ¥é˜ˆå€¼é…ç½®
- `pending_count`ï¼šå¾…å¤„ç†æ•°é‡è­¦æŠ¥é˜ˆå€¼
- `oldest_pending_age`ï¼šæœ€æ—§ç§¯å‹å¹´é¾„è­¦æŠ¥é˜ˆå€¼
- `low_health_score`ï¼šä½å¥åº·åº¦è­¦æŠ¥é˜ˆå€¼

## å®è·µæ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šæ–°æ‰‹ç”¨æˆ·çš„ç¬¬ä¸€å‘¨

#### ç›®æ ‡
å»ºç«‹åŸºç¡€åº¦é‡ä¹ æƒ¯ï¼Œäº†è§£ç³»ç»Ÿç°çŠ¶

#### è¡ŒåŠ¨è®¡åˆ’
**ç¬¬1å¤©**ï¼š
- è¿è¡Œ `./scripts/metrics/metrics-dashboard.sh`
- é˜…è¯»ç”Ÿæˆçš„æŠ¥å‘Š
- è®°å½•åŸºçº¿æ•°æ®

**ç¬¬2-3å¤©**ï¼š
- å¤„ç†æ˜æ˜¾çš„ç§¯å‹é—®é¢˜
- ä¼˜åŒ–PARAåˆ†å¸ƒ
- å†æ¬¡è¿è¡Œæ£€æŸ¥ç¡®è®¤æ”¹å–„

**ç¬¬4-7å¤©**ï¼š
- æ¯æ—¥è¿è¡Œå¿«é€Ÿæ£€æŸ¥
- è§‚å¯ŸæŒ‡æ ‡å˜åŒ–
- è°ƒæ•´ä½¿ç”¨ä¹ æƒ¯

#### é¢„æœŸç»“æœ
- æ¸…æ¥šäº†è§£ç³»ç»Ÿå¥åº·çŠ¶å†µ
- å»ºç«‹åŸºæœ¬çš„åº¦é‡ä¹ æƒ¯
- å‘ç°2-3ä¸ªæ˜æ˜¾çš„æ”¹è¿›ç‚¹

### æ¡ˆä¾‹2ï¼šè¿›é˜¶ç”¨æˆ·çš„æœˆåº¦å›é¡¾

#### ç›®æ ‡
æ·±åº¦åˆ†æç³»ç»Ÿæ•ˆæœï¼Œåˆ¶å®šä¼˜åŒ–ç­–ç•¥

#### è¡ŒåŠ¨è®¡åˆ’
**æœˆåˆ**ï¼š
- è¿è¡Œ `./scripts/metrics/metrics_analyzer.py` ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
- å¯¹æ¯”ä¸Šæœˆæ•°æ®ï¼Œè¯†åˆ«å˜åŒ–è¶‹åŠ¿
- åˆ†æå„æŒ‡æ ‡çš„è¯¦ç»†æƒ…å†µ

**æœˆä¸­**ï¼š
- æ ¹æ®åˆ†æç»“æœåˆ¶å®šæ”¹è¿›è®¡åˆ’
- æ‰§è¡Œä¼˜åŒ–æªæ–½
- è®°å½•æ”¹è¿›è¿‡ç¨‹ä¸­çš„è§‚å¯Ÿ

**æœˆæœ«**ï¼š
- å†æ¬¡è¿è¡Œæ·±åº¦åˆ†æ
- è¯„ä¼°æ”¹è¿›æ•ˆæœ
- è°ƒæ•´ä¸‹æœˆè®¡åˆ’

#### é¢„æœŸç»“æœ
- é‡åŒ–ç³»ç»Ÿæ”¹è¿›æ•ˆæœ
- å»ºç«‹æŒç»­ä¼˜åŒ–å¾ªç¯
- æå‡ç³»ç»Ÿæ•´ä½“å¥åº·åº¦10-20%

### æ¡ˆä¾‹3ï¼šä¸“å®¶ç”¨æˆ·çš„å­£åº¦è§„åˆ’

#### ç›®æ ‡
åŸºäºæ•°æ®åˆ†æè¿›è¡Œæˆ˜ç•¥æ€§è°ƒæ•´

#### è¡ŒåŠ¨è®¡åˆ’
**å­£åº¦åˆ**ï¼š
- åˆ†æ3ä¸ªæœˆçš„å†å²æ•°æ®è¶‹åŠ¿
- è¯†åˆ«é•¿æœŸæ¨¡å¼å’Œå‘å±•æ–¹å‘
- åˆ¶å®šå­£åº¦æ”¹è¿›ç›®æ ‡

**å­£åº¦ä¸­**ï¼š
- æœˆåº¦æ·±åº¦æ£€æŸ¥å’Œå¾®è°ƒ
- æ ¹æ®æ•°æ®è°ƒæ•´ç­–ç•¥
- è®°å½•é‡è¦æ´å¯Ÿ

**å­£åº¦æœ«**ï¼š
- å…¨é¢å›é¡¾å­£åº¦æ•ˆæœ
- è®¡ç®—ROIå’Œæ•ˆç‡æå‡
- è§„åˆ’ä¸‹å­£åº¦é‡ç‚¹

#### é¢„æœŸç»“æœ
- å»ºç«‹æ•°æ®é©±åŠ¨çš„å†³ç­–æœºåˆ¶
- å®ç°å¯é‡åŒ–çš„æ•ˆç‡æå‡
- å½¢æˆä¸ªäººçŸ¥è¯†ç®¡ç†çš„æœ€ä½³å®è·µ

## æŒ‡æ ‡æ”¹è¿›æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜1ï¼šPARAåˆ†å¸ƒå¤±è¡¡

**ç—‡çŠ¶**ï¼š
```
Projects: 35 (35.0%) ğŸ”´
Areas: 15 (15.0%) ğŸ”´
Resources: 45 (45.0%) ğŸŸ¡
Archives: 5 (5.0%) ğŸŸ¢
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **Projectsè¿‡å¤š(>30%)**ï¼š
   - å®Œæˆæˆ–æš‚åœä¸€äº›é¡¹ç›®
   - å°†ç›¸å…³é¡¹ç›®åˆå¹¶
   - å°†é¡¹ç›®æˆæœå½’æ¡£åˆ°Archives

2. **Areasè¿‡å°‘(<20%)**ï¼š
   - è¯†åˆ«ç¼ºå¤±çš„ç”Ÿæ´»é¢†åŸŸ
   - è¡¥å……é‡è¦é¢†åŸŸçš„ç»´æŠ¤å†…å®¹
   - å»ºç«‹å®šæœŸå›é¡¾æœºåˆ¶

3. **Resourcesè¿‡å¤š(>50%)**ï¼š
   - æ¸…ç†ä½ä»·å€¼èµ„æº
   - å°†æœ‰ç”¨èµ„æºè½¬åŒ–ä¸ºå…·ä½“è¡ŒåŠ¨
   - å»ºç«‹èµ„æºè´¨é‡è¯„ä¼°æ ‡å‡†

#### é—®é¢˜2ï¼šå†…å®¹è´¨é‡åä½

**ç—‡çŠ¶**ï¼š
```
å…ƒæ•°æ®è¦†ç›–ç‡: 45% ğŸ”´
é“¾æ¥æ–‡ä»¶æ¯”ä¾‹: 30% ğŸ”´
å¹³å‡é“¾æ¥æ•°/æ–‡ä»¶: 1.2 ğŸ”´
å†…å®¹æ´»è·ƒåº¦: 15% ğŸ”´
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **æå‡å…ƒæ•°æ®è¦†ç›–ç‡**ï¼š
   - ä½¿ç”¨ `/para-process` æ‰¹é‡å¤„ç†
   - å»ºç«‹æ¨¡æ¿å¼ºåˆ¶å…ƒæ•°æ®
   - å®šæœŸæ£€æŸ¥ç¼ºå¤±å…ƒæ•°æ®çš„æ–‡ä»¶

2. **å¢åŠ å†…å®¹å…³è”**ï¼š
   - ä½¿ç”¨ `[[é“¾æ¥]]` å»ºç«‹åŒå‘é“¾æ¥
   - å®šæœŸå›é¡¾ç›¸å…³å†…å®¹å¹¶å»ºç«‹å…³è”
   - ä½¿ç”¨æ ‡ç­¾ç³»ç»Ÿè¾…åŠ©å…³è”

3. **æé«˜å†…å®¹æ´»è·ƒåº¦**ï¼š
   - å®šæœŸæ›´æ–°é‡è¦å†…å®¹
   - å°†è¿‡æœŸå†…å®¹å½’æ¡£
   - å»ºç«‹å†…å®¹æ›´æ–°æé†’æœºåˆ¶

#### é—®é¢˜3ï¼šæ•ˆç‡æŒ‡æ ‡ä¸ä½³

**ç—‡çŠ¶**ï¼š
```
å¤„ç†æ•ˆç‡: 45% ğŸ”´
æœç´¢æ•ˆç‡: 55% ğŸ”´
å†³ç­–é€Ÿåº¦: 40% ğŸ”´
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **æå‡å¤„ç†æ•ˆç‡**ï¼š
   - ä¼˜åŒ–AIé¢„å¤„ç†å™¨é…ç½®
   - ç®€åŒ–åˆ†ç±»æ ‡å‡†
   - å»ºç«‹å¿«é€Ÿå¤„ç†æµç¨‹

2. **æ”¹å–„æœç´¢æ•ˆç‡**ï¼š
   - å­¦ä¹ é«˜çº§æœç´¢è¯­æ³•
   - å®Œå–„æ ‡ç­¾ç³»ç»Ÿ
   - å»ºç«‹å†…å®¹ç´¢å¼•

3. **åŠ å¿«å†³ç­–é€Ÿåº¦**ï¼š
   - å»ºç«‹å†³ç­–æ¡†æ¶
   - é¢„è®¾åˆ¤æ–­æ ‡å‡†
   - å‡å°‘é€‰æ‹©è¿‡è½½

### æŒç»­æ”¹è¿›ç­–ç•¥

#### æ¯æ—¥ä¹ æƒ¯ï¼ˆ5åˆ†é’Ÿï¼‰
- [ ] è¿è¡Œå¿«é€Ÿå¥åº·æ£€æŸ¥
- [ ] å¤„ç†æ–°å‡ºç°çš„è­¦æŠ¥
- [ ] è®°å½•é‡è¦è§‚å¯Ÿ

#### æ¯å‘¨å›é¡¾ï¼ˆ30åˆ†é’Ÿï¼‰
- [ ] è¿è¡Œæ·±åº¦åˆ†æ
- [ ] æŸ¥çœ‹æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿
- [ ] åˆ¶å®šä¸‹å‘¨æ”¹è¿›è®¡åˆ’

#### æ¯æœˆè¯„ä¼°ï¼ˆ2å°æ—¶ï¼‰
- [ ] å¯¹æ¯”æœˆåº¦æ•°æ®
- [ ] åˆ†ææ•ˆç‡å˜åŒ–
- [ ] è°ƒæ•´ç³»ç»Ÿé…ç½®

#### å­£åº¦è§„åˆ’ï¼ˆåŠå¤©ï¼‰
- [ ] å›é¡¾å­£åº¦è¶‹åŠ¿
- [ ] è¯„ä¼°ROIå’Œæ•ˆæœ
- [ ] åˆ¶å®šä¸‹å­£åº¦ç›®æ ‡

## é«˜çº§æŠ€å·§

### 1. è‡ªå®šä¹‰æŒ‡æ ‡å¼€å‘

#### æ·»åŠ ä¸ªäººç‰¹å®šæŒ‡æ ‡
å¯ä»¥ä¿®æ”¹ `scripts/metrics/metrics_analyzer.py` æ·»åŠ è‡ªå®šä¹‰æŒ‡æ ‡ï¼š

```python
def _analyze_personal_productivity(self) -> Dict[str, float]:
    """åˆ†æä¸ªäººç”Ÿäº§åŠ›æŒ‡æ ‡"""
    # æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰åˆ†æé€»è¾‘
    return {
        "deep_work_hours": self._calculate_deep_work_hours(),
        "focus_score": self._calculate_focus_score(),
        "energy_management": self._calculate_energy_management()
    }
```

#### é›†æˆå¤–éƒ¨æ•°æ®æº
```python
def _integrate_external_data(self) -> Dict:
    """é›†æˆå¤–éƒ¨æ•°æ®æº"""
    # å¯ä»¥é›†æˆï¼š
    # - æ—¶é—´è¿½è¸ªè½¯ä»¶æ•°æ®
    # - æ—¥å†åº”ç”¨æ•°æ®
    # - å¥åº·ç›‘æµ‹æ•°æ®
    # - ä»»åŠ¡ç®¡ç†å·¥å…·æ•°æ®
    pass
```

### 2. è‡ªåŠ¨åŒ–æŠ¥å‘Š

#### è®¾ç½®å®šæ—¶ä»»åŠ¡
```bash
# æ·»åŠ åˆ°crontabï¼ˆLinux/Macï¼‰
0 9 * * 1 /path/to/TrevanBox/scripts/metrics/metrics-dashboard.sh

# Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº
# åˆ›å»ºæ¯å‘¨ä¸€ä¸Šåˆ9ç‚¹è¿è¡Œçš„ä»»åŠ¡
```

#### è‡ªåŠ¨åŒ–é€šçŸ¥
```python
def _send_notification(self, metrics: SystemMetrics):
    """å‘é€åº¦é‡ç»“æœé€šçŸ¥"""
    if metrics.overall_health < 60:
        self._send_alert("ç³»ç»Ÿå¥åº·åº¦åä½ï¼Œéœ€è¦å…³æ³¨")

    if metrics.oldest_pending_age > 7:
        self._send_alert("æœ‰å¾…å¤„ç†ç§¯å‹è¶…è¿‡7å¤©")
```

### 3. æ•°æ®å¯è§†åŒ–

#### ç”Ÿæˆè¶‹åŠ¿å›¾è¡¨
```python
import matplotlib.pyplot as plt

def _generate_trend_chart(self, history_data):
    """ç”Ÿæˆè¶‹åŠ¿å›¾è¡¨"""
    dates = [item['date'] for item in history_data]
    health_scores = [item['overall_health'] for item in history_data]

    plt.figure(figsize=(10, 6))
    plt.plot(dates, health_scores, marker='o')
    plt.title('ç³»ç»Ÿå¥åº·åº¦è¶‹åŠ¿')
    plt.xlabel('æ—¥æœŸ')
    plt.ylabel('å¥åº·åº¦è¯„åˆ†')
    plt.xticks(rotation=45)
    plt.tight_layout()
    plt.savefig('docs/reports/health_trend.png')
```

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯åŠè§£å†³

#### é”™è¯¯1ï¼šæƒé™é—®é¢˜
```bash
# é”™è¯¯ä¿¡æ¯
Permission denied: ./scripts/metrics/metrics-dashboard.sh

# è§£å†³æ–¹æ¡ˆ
chmod +x ./scripts/metrics/metrics-dashboard.sh
```

#### é”™è¯¯2ï¼šPythonä¾èµ–ç¼ºå¤±
```bash
# é”™è¯¯ä¿¡æ¯
ModuleNotFoundError: No module named 'pathlib'

# è§£å†³æ–¹æ¡ˆï¼ˆä½¿ç”¨uvï¼‰
uv add pathlib  # å¦‚æœpathlä¸æ˜¯æ ‡å‡†åº“

# æˆ–è€…å®‰è£…æ‰€æœ‰ä¾èµ–
uv install -r requirements.txt
```

#### é”™è¯¯3ï¼šè·¯å¾„é—®é¢˜
```bash
# é”™è¯¯ä¿¡æ¯
FileNotFoundError: [Errno 2] No such file or directory: '1-Projects'

# è§£å†³æ–¹æ¡ˆ
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•è¿è¡Œ
cd /path/to/TrevanBox
./scripts/metrics/metrics_analyzer.py --base-path .

# æˆ–è€…æŒ‡å®šæ­£ç¡®è·¯å¾„
./scripts/metrics/metrics_analyzer.py --base-path /path/to/TrevanBox
```

### æ€§èƒ½ä¼˜åŒ–

#### å¤§å‹ç³»ç»Ÿä¼˜åŒ–
å¦‚æœæ–‡ä»¶æ•°é‡å¾ˆå¤§ï¼ˆ>1000ä¸ªæ–‡ä»¶ï¼‰ï¼Œå¯ä»¥ï¼š

1. **å¹¶è¡Œå¤„ç†**ï¼š
```python
from multiprocessing import Pool

def _analyze_files_parallel(self, file_list):
    """å¹¶è¡Œåˆ†ææ–‡ä»¶"""
    with Pool() as pool:
        results = pool.map(self._analyze_single_file, file_list)
    return results
```

2. **å¢é‡åˆ†æ**ï¼š
```python
def _incremental_analysis(self):
    """å¢é‡åˆ†æï¼Œåªå¤„ç†å˜æ›´çš„æ–‡ä»¶"""
    last_analysis_time = self._get_last_analysis_time()
    changed_files = self._get_changed_files(last_analysis_time)
    return self._analyze_files(changed_files)
```

3. **ç¼“å­˜æœºåˆ¶**ï¼š
```python
def _cached_analysis(self, cache_duration=3600):
    """ç¼“å­˜åˆ†æç»“æœ"""
    cache_file = self.reports_dir / ".metrics_cache"
    if self._is_cache_valid(cache_file, cache_duration):
        return self._load_cache(cache_file)

    # æ‰§è¡Œåˆ†æå¹¶ç¼“å­˜ç»“æœ
    result = self._perform_analysis()
    self._save_cache(cache_file, result)
    return result
```

## æ€»ç»“

TrevanBoxåº¦é‡æŒ‡æ ‡ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ä¸ªäººçŸ¥è¯†ç®¡ç†ä»·å€¼é‡åŒ–å·¥å…·ï¼Œé€šè¿‡ç³»ç»ŸåŒ–çš„æ•°æ®æ”¶é›†å’Œåˆ†æï¼Œå¸®åŠ©æ‚¨ï¼š

### ğŸ¯ æ ¸å¿ƒä»·å€¼
1. **é‡åŒ–ä»·å€¼**ï¼šå°†æŠ½è±¡çš„ç³»ç»Ÿä½¿ç”¨æ•ˆæœè½¬åŒ–ä¸ºå…·ä½“æ•°æ®
2. **æŒ‡å¯¼æ”¹è¿›**ï¼šåŸºäºæ•°æ®å‘ç°é—®é¢˜ï¼Œåˆ¶å®šé’ˆå¯¹æ€§æ”¹è¿›è®¡åˆ’
3. **è¿½è¸ªæˆé•¿**ï¼šè®°å½•ä¸ªäººæˆé•¿è½¨è¿¹ï¼Œæ¿€åŠ±æŒç»­ä¼˜åŒ–
4. **æå‡æ•ˆç‡**ï¼šè¯†åˆ«ç“¶é¢ˆï¼Œä¼˜åŒ–å·¥ä½œæµç¨‹

### ğŸš€ ä½¿ç”¨å»ºè®®
1. **å¾ªåºæ¸è¿›**ï¼šä»åŸºç¡€ä½¿ç”¨å¼€å§‹ï¼Œé€æ­¥æŒæ¡é«˜çº§åŠŸèƒ½
2. **æŒç»­è®°å½•**ï¼šä¿æŒæ•°æ®çš„è¿ç»­æ€§ï¼Œæ‰èƒ½çœ‹å‡ºè¶‹åŠ¿
3. **è¡ŒåŠ¨å¯¼å‘**ï¼šæ•°æ®æœ¬èº«ä¸æ˜¯ç›®çš„ï¼Œå…³é”®æ˜¯è¦æ®æ­¤è¡ŒåŠ¨
4. **ä¸ªæ€§åŒ–è°ƒæ•´**ï¼šæ ¹æ®ä¸ªäººæƒ…å†µè°ƒæ•´æŒ‡æ ‡æƒé‡å’Œé˜ˆå€¼

### ğŸ“ˆ æˆåŠŸè¦ç´ 
1. **å®šæœŸä½¿ç”¨**ï¼šå»ºç«‹å›ºå®šçš„åº¦é‡ä¹ æƒ¯
2. **æ·±åº¦æ€è€ƒ**ï¼šä¸åªæ˜¯çœ‹æ•°å­—ï¼Œè¦æ€è€ƒèƒŒåçš„åŸå› 
3. **åŠæ—¶è¡ŒåŠ¨**ï¼šæ ¹æ®åˆ†æç»“æœåŠæ—¶è°ƒæ•´
4. **é•¿æœŸåšæŒ**ï¼šæ•ˆæœéœ€è¦æ—¶é—´ç§¯ç´¯ï¼Œè´µåœ¨åšæŒ

é€šè¿‡æŒç»­ä½¿ç”¨è¿™ä¸ªåº¦é‡ç³»ç»Ÿï¼Œæ‚¨å°†èƒ½å¤Ÿæ›´å¥½åœ°ç®¡ç†å’Œä¼˜åŒ–ä¸ªäººçŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œå®ç°çœŸæ­£çš„"è®©ä¿¡æ¯ä¸ºè¡ŒåŠ¨æœåŠ¡ï¼Œè®©è®°å½•æ¨åŠ¨æˆé•¿"ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æœ€åæ›´æ–°**ï¼š2025-10-16
**ç›¸å…³å·¥å…·**ï¼š`scripts/metrics/metrics-dashboard.sh`, `scripts/metrics/metrics_analyzer.py`
**æ”¯æŒèµ„æº**ï¼š`docs/metrics.md`, `docs/examples/`